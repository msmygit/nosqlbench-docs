<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="preload" as="font" href="https://docs.nosqlbench.io/fonts/vendor/jost/jost-v4-latin-regular.woff2" type="font/woff2" crossorigin>
  <link rel="preload" as="font" href="https://docs.nosqlbench.io/fonts/vendor/jost/jost-v4-latin-700.woff2"  type="font/woff2" crossorigin>


<link rel="stylesheet" href="https://docs.nosqlbench.io/main.css">



  
  
    
  

  
  
    
    
  
  
  
    
  
  
  
  
    
  
  
  


  <meta name="robots" content="index, follow">
  <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">


	


	

<title>Advanced Metrics Options | NoSQLBench</title>
<meta name="description" content="">
<link rel="canonical" href="https://docs.nosqlbench.io/docs/reference/advanced-metrics/">










<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    
      
      
        
        
        
        
        
        
        
        
          {
            "@type": "ListItem",
            "position":  1 ,
            "name": "Home",
            "item": "https://docs.nosqlbench.io/"
          },
          
          
          {
            "@type": "ListItem",
            "position":  2 ,
            "name": "Docs",
            "item": "https://docs.nosqlbench.io/docs/"
          },
        
      
        
        
        
        
        
        
        
        
          
          
          {
            "@type": "ListItem",
            "position":  3 ,
            "name": "Reference",
            "item": "https://docs.nosqlbench.io/docs/reference/"
          },
        
      
        
        
        
        
        
        
        
        
        
        
        
          
          
          {
            "@type": "ListItem",
            "position":  4 ,
            "name": "Advanced Metrics",
            "item": "https://docs.nosqlbench.io/docs/reference/advanced-metrics/"
          },
        
      
    
  }
</script>




  <meta name="theme-color" content="#fff">
  <link rel="apple-touch-icon" sizes="180x180" href="https://docs.nosqlbench.io/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://docs.nosqlbench.io/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://docs.nosqlbench.io/favicon-16x16.png">
  
    <link rel="manifest" href="https://docs.nosqlbench.io/site.webmanifest">
  


  

</head>

  

<body class="docs single">
  
  
  
  
<div class="header-bar fixed-top"></div>
<header class="navbar fixed-top navbar-expand-md navbar-light">
	<div class="container">
		<input class="menu-btn order-0" type="checkbox" id="menu-btn">
		<label class="menu-icon d-md-none" for="menu-btn"><span class="navicon"></span></label>
		<a class="navbar-brand order-1 order-md-0 me-auto" href="https://docs.nosqlbench.io/">NoSQLBench</a>
		<button id="mode" class="btn btn-link order-2 order-md-4" type="button" aria-label="Toggle mode">
			<span class="toggle-dark"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></span>
			<span class="toggle-light"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></span>
		</button>
		<ul class="navbar-nav fork-me order-3 order-md-5">
			
<!--				<li class="nav-item">-->
<!--					<a class="nav-link" href="https://twitter.com/aaranxu"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg><span class="ms-2 visually-hidden">Twitter</span></a>-->
<!--				</li>-->
			<li class="nav-item">
				<a class="nav-link" href="https://github.com/nosqlbench/nosqlbench-docs" title="NoSQLBench docs repo"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg><span class="ms-2 visually-hidden">GitHub</span></a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="https://github.com/nosqlbench/nosqlbench" title="NoSQLBench main project repo"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg><span class="ms-2 visually-hidden">GitHub</span></a>
			</li>
			
		</ul>
		<div class="collapse navbar-collapse order-4 order-md-1">
			<ul class="navbar-nav main-nav me-auto order-5 order-md-2">
				
<!--				<li class="nav-item">-->
<!--					<a class="nav-link" href="https://docs.nosqlbench.io/docs/">Docs</a>-->
<!--				</li>-->
<!--				<li class="nav-item">-->
<!--					<a class="nav-link" href="https://docs.nosqlbench.io/blog/">Blog</a>-->
<!--				</li>-->
				
			</ul>
			<div class="break order-6 d-md-none"></div>
			
				<form class="navbar-form flex-grow-1 order-7 order-md-3">
					<input id="userinput" class="form-control is-search" type="search" placeholder="Search docs..."
						aria-label="Search docs..." autocomplete="off">
					<div id="suggestions" class="shadow bg-white rounded"></div>
				</form>
			
		</div>
	</div>
</header>



  
<div class="wrap container" role="document">
  <div class="content">
    <div class="row flex-xl-nowrap">
	  
<div class="col-lg-5 col-xl-4 docs-sidebar">
	<nav class="docs-links" aria-label="Main navigation">
			
			
			
			
					
					
					
							<h3>Introduction</h3>
							<ul class="list-unstyled">
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/nosqlbench/introduction/">NoSQLBench</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/nosqlbench/core-concepts/">Core Concepts</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/nosqlbench/showcase/">Showcase</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/nosqlbench/community/">Community</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/nosqlbench/principles/">Design Principles</a></li>
							
					</ul>
					
					
					
					
							<h3>Getting Started</h3>
							<ul class="list-unstyled">
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/getting_started/00-get-nosqlbench/">00 Install</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/getting_started/01-example-commands/">01 Commands</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/getting_started/02-example-results/">02 Results</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/getting_started/03-reading-metrics/">03 Metrics</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/getting_started/04-next-steps/">Next Steps</a></li>
							
					</ul>
					
					
					
					
							<h3>Workloads 101</h3>
							<ul class="list-unstyled">
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/workloads_101/00-designing-workloads/">00 Designing Workloads</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/workloads_101/01-op-templates/">01 Op Templates</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/workloads_101/02-yaml-org/">02 YAML Organization</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/workloads_101/03-data-bindings/">03 Data Bindings</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/workloads_101/04-op-params/">04 Op Params</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/workloads_101/05-op-tags/">05 Op Tags</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/workloads_101/06-op-blocks/">06 Op Blocks</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/workloads_101/07-more-op-templates/">07 More Op Templates</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/workloads_101/08-multi-docs/">08 Multi-Docs</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/workloads_101/09-template-params/">09 Template Params</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/workloads_101/10-stmt-naming/">10 Op Naming</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/workloads_101/11-named-scenarios/">11 Named Scenarios</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/workloads_101/99-yaml-diagnostics/">YAML Diagnostics</a></li>
							
					</ul>
					
					
					
					
							<h3>Reference</h3>
							<ul class="list-unstyled">
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/reference/command-line/">CLI Options</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/reference/cli-scripting/">CLI Scripting</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/reference/parameter-types/">Parameter Types</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/reference/core-activity-parameters/">Core Activity Parameters</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/reference/core-op-params/">Core Op Parameters</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/reference/timing-terms/">Timing Terms Explained</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/reference/standard-metrics/">Standard Metrics</a></li>
							                           
									<li><a class="docs-link active" href="https://docs.nosqlbench.io/docs/reference/advanced-metrics/">Advanced Metrics Options</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/reference/grafana-metrics/">Built-In Grafana Dashboard</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/reference/workloads-intro/">Built-In Workloads</a></li>
							
					</ul>
					
					
					
					
							<h3>Scenario Scripting</h3>
							<ul class="list-unstyled">
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/scripting/scripting-intro/">Scripting Intro</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/scripting/scripting-parameters/">Scripting Parameters</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/scripting/scripting-environment/">Scripting Environment</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/scripting/scripting-extensions/">Scripting Extensions</a></li>
							
					</ul>
					
					
					
					
							<h3>Advanced Topics</h3>
							<ul class="list-unstyled">
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/advanced_topics/random-data/">Randomness, Determinism, Variation</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/advanced_topics/vantage-points/">Vantage Points</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/advanced_topics/multiple-clients/">Multiple Clients</a></li>
							
					</ul>
					
					
					
					
							<h3>Drivers</h3>
							<ul class="list-unstyled">
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/driver-types-intro/">Driver Types</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/cockroachdb/">cockroachdb driver</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/cql/">cql driver</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/cqld3/">cqld3 driver</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/cqlverify/">cqlverify driver</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/diag/">diag driver</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/dsegraph/">dsegraph driver</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/http/">http driver</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/jms/">jms driver</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/jmx/">jmx driver</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/kafkaproducer/">kafkaproducer driver</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/mongodb/">mongodb driver</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/pulsar/">pulsar driver</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/ssl/">cql driver ssl</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/stdout/">stdout driver</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/tcpclient/">tcpclient driver</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/tcpserver/">tcpserver driver</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/webdriver/">webdriver driver</a></li>
							
					</ul>
					
					
					
					
							<h3>Binding Functions</h3>
							<ul class="list-unstyled">
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/bindings/binding-concepts/">Binding Concepts</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/bindings/binding-functions/">Binding Functions Explained</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/bindings/funcref-datetime/">datetime functions</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/bindings/funcref-general/">general functions</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/bindings/funcref-premade/">pre-made functions</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/bindings/funcref-conversion/">conversion functions</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/bindings/funcref-distributions/">distribution functions</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/bindings/funcref-state/">state functions</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/bindings/funcref-collections/">collection functions</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/bindings/funcref-diagnostics/">diagnostic functions</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/bindings/funcref-experimental/">Experimental functions</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/bindings/funcref-functional/">flow functions</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/bindings/funcref-nulls/">null functions</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/bindings/funcref-objects/">Object functions</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/bindings/funcref-statistics/">Statistics functions</a></li>
							
					</ul>
					
					
			
	</nav>
</div>

	  
  
  <nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation">
  	<div class="page-links">
  			<h3>On this page</h3>
  			<nav id="TableOfContents">
  					<ul>
  							
  							<li><a href="https://docs.nosqlbench.io/docs/reference/advanced-metrics/#unit-of-measure">Unit of Measure</a></li>
  							
  							
  							<li><a href="https://docs.nosqlbench.io/docs/reference/advanced-metrics/#metric-outputs">Metric Outputs</a></li>
  							
  							
  							<li><a href="https://docs.nosqlbench.io/docs/reference/advanced-metrics/#metrics-via-graphite">Metrics via Graphite</a></li>
  							
  							
  							<li><a href="https://docs.nosqlbench.io/docs/reference/advanced-metrics/#metric-naming">Metric Naming</a></li>
  							
  							
  							<li><a href="https://docs.nosqlbench.io/docs/reference/advanced-metrics/#hdr-histograms">HDR Histograms</a></li>
  							
  									<ul>
  											
  											<li><a href="https://docs.nosqlbench.io/docs/reference/advanced-metrics/#recording-hdr-histogram-logs">Recording HDR Histogram Logs</a></li>
  											
  											<li><a href="https://docs.nosqlbench.io/docs/reference/advanced-metrics/#recording-hdr-histogram-stats">Recording HDR Histogram Stats</a></li>
  											
  									</ul>
  							
  							
  					</ul>
  			</nav>
  	</div>
  </nav>
  

      <main class="docs-content col-lg-11 col-xl-9">
        <h1>Advanced Metrics Options</h1>
        
        <h2 id="unit-of-measure">Unit of Measure</h2>
<p>All metrics collected from activities are recorded in nanoseconds and ops per second. All histograms
are recorded with 3 digits of precision using HDR histograms unless otherwise modified with the
global <code>--hdr-digits</code> option or the activity-specific <code>hdr_digits</code> activity param.</p>
<h2 id="metric-outputs">Metric Outputs</h2>
<p>Metrics from a scenario run can be gathered in multiple ways:</p>
<ul>
<li>In the log output</li>
<li>In CSV files</li>
<li>In HDR histogram logs</li>
<li>In Histogram Stats logs (CSV)</li>
<li>To a monitoring system via graphite</li>
<li>via the <code>--docker-metrics</code> option</li>
<li>remotely via the <code>--docker-metrics-at &lt;host&gt;</code> option</li>
</ul>
<p>When <code>--docker-metrics</code> or <code>--docker-metrics-at &lt;host&gt;</code> methods are used, they take over the global
options for the other methods. Except these, the others may generally be combined and used in
combination. The command line options for enabling these are documented in the command line docs,
although some examples of these may be found below.</p>
<h2 id="metrics-via-graphite">Metrics via Graphite</h2>
<p>If you like to have all of your testing data in one place, then you may be interested in reporting
your measurements to a monitoring system. For this, nosqlbench includes a
<a rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/dropwizard/metrics">Metrics Library</a>. Graphite reporting is baked in as the
default reporter.</p>
<p>In order to enable graphite reporting, use one of these options formats:</p>
<pre style="background-color:#2e3440;color:#d8dee9;"><code><span>--report-graphite-to &lt;host&gt;
</span><span>--report-graphite-to &lt;host&gt;:&lt;port&gt;
</span></code></pre>
<h2 id="metric-naming">Metric Naming</h2>
<p><strong>Prefix</strong></p>
<p>Core metrics use the prefix <em>nosqlbench</em> by default. You can override this with the ``
--metrics-prefix` option:</p>
<pre style="background-color:#2e3440;color:#d8dee9;"><code><span>--metrics-prefix myclient.group5
</span></code></pre>
<p><strong>Identifiers</strong></p>
<p>Metrics associated with a specific activity will have the activity alias in their name. There is a
set of core metrics which are always present regardless of the activity type. The names and types of
additional metrics provided for each activity type vary.</p>
<p>Sometimes, an activity type will expose metrics on a per statement basis, measuring over all
invocations of a given statement as defined in the YAML. In these cases, you will see <code>--</code>
separating the name components of the metric. At the most verbose, a metric name could take on the
form like
<code>&lt;activity&gt;.&lt;docname&gt;--&lt;blockname&gt;--&lt;statementname&gt;--&lt;metricname&gt;</code>, although this is rare when you
name your statements, which is recommended. Just keep in mind that the double dash connects an
activity's alias with named statements <em>within</em>
that activity.</p>
<h2 id="hdr-histograms">HDR Histograms</h2>
<h3 id="recording-hdr-histogram-logs">Recording HDR Histogram Logs</h3>
<p>You can record details of histograms from any compatible metric (histograms and timers) with an
option like this:</p>
<pre style="background-color:#2e3440;color:#d8dee9;"><code><span>--log-histograms hdrdata.log
</span></code></pre>
<p>If you want to record only certain metrics in this way, then use this form:</p>
<pre style="background-color:#2e3440;color:#d8dee9;"><code><span>--log-histograms &#39;hdrdata.log:.*suffix&#39;
</span></code></pre>
<p>Notice that the option is enclosed in single quotes. This is because the second part of the option
value is a regex. The
'.*suffix' pattern matches any metric name that ends with &quot;suffix&quot;. Effectively, leaving out the
pattern is the same as using '.*', which matches all metrics. Any valid regex is allowed here.</p>
<p>Metrics may be included in multiple logs, but care should be taken not to overdo this. Keeping
higher fidelity histogram reservoirs does come with a cost, so be sure to be specific in what you
record as much as possible.</p>
<p>If you want to specify the recording interval, use this form:</p>
<pre style="background-color:#2e3440;color:#d8dee9;"><code><span>--log-histograms &#39;hdrdata.log:.*suffix:5s&#39;
</span></code></pre>
<p>If you want to specify the interval, you must use the third form above, although it is valid to
leave the pattern empty, such as 'hdrdata.log::5s'.</p>
<p>Each interval specified will be tracked in a discrete reservoir in memory, so they will not
interfere with each other in terms of accuracy.</p>
<h3 id="recording-hdr-histogram-stats">Recording HDR Histogram Stats</h3>
<p>You can also record basic snapshots of histogram data on a periodic interval just like above with
HDR histogram logs. The option to do this is:</p>
<pre style="background-color:#2e3440;color:#d8dee9;"><code><span>--log-histostats &#39;hdrstats.log:.*suffix:10s&#39;
</span></code></pre>
<p>Everything works the same as for hdr histogram logging, except that the format is in CSV as shown in
the example below:</p>
<pre style="background-color:#2e3440;color:#d8dee9;"><code><span>#logging stats for session scenario-1479089852022
</span><span>#[Histogram log format version 1.0]
</span><span>#[StartTime: 1479089852.046 (seconds since epoch), Sun Nov 13 20:17:32 CST 2016]
</span><span>#Tag,Interval_Start,Interval_Length,count,min,p25,p50,p75,p90,p95,p98,p99,p999,p9999,max
</span><span>Tag=diag1.delay,0.457,0.044,1,16,31,31,31,31,31,31,31,31,31,31
</span><span>Tag=diag1.cycles,0.48,0.021,31,4096,8191,8191,8191,8191,8191,8191,8191,8191,8191,2097151
</span><span>Tag=diag1.delay,0.501,0.499,1,1,1,1,1,1,1,1,1,1,1,1
</span><span>Tag=diag1.cycles,0.501,0.499,498,1024,2047,2047,4095,4095,4095,4095,4095,4095,4095,4194303
</span><span>...
</span></code></pre>
<p>This includes the metric name (Tag), the interval start time and length (from the beginning of
collection time), number of metrics recorded (count), minimum magnitude, a number of percentile
measurements, and the maximum value. Notice that the format used is similar to that of the HDR
logging, although instead of including the raw histogram data, common percentiles are recorded
directly.</p>

        
        
<div class="docs-navigation d-flex justify-content-between">
  
  
  
  
  
  <a href="https:&#x2F;&#x2F;docs.nosqlbench.io&#x2F;docs&#x2F;reference&#x2F;standard-metrics&#x2F;">
    <div class="card my-1">
      <div class="card-body py-2">
        &larr; Standard Metrics
      </div>
    </div>
  </a>
  

  
  
  
  
  
    <a class="ms-auto" href="https:&#x2F;&#x2F;docs.nosqlbench.io&#x2F;docs&#x2F;reference&#x2F;grafana-metrics&#x2F;">
      <div class="card my-1">
        <div class="card-body py-2">
          Built-In Grafana Dashboard &rarr;
        </div>
      </div>
    </a>
  
</div>

      </main>
    </div>
  </div>
</div>


  
    
<footer class="footer text-muted">
	<div class="container">
		<div class="row">
			<div class="col-lg-8 order-last order-lg-first">
				<ul class="list-inline">
					
						<li class="list-inline-item"> </li>
					
				</ul>
			</div>
			<div class="col-lg-8 order-first order-lg-last text-lg-end">
				<ul class="list-inline">
					
				</ul>
			</div>
		</div>
	</div>
</footer>

  

  
<script src="https://docs.nosqlbench.io/js/main.js" defer></script>

  <script src="https://docs.nosqlbench.io/plugins/elasticlunr.min.js" defer></script>
  <script src="https://docs.nosqlbench.io/search_index.en.js" defer></script>
  <script src="https://docs.nosqlbench.io/js/search.js" defer></script>

  
</body>
</html>
