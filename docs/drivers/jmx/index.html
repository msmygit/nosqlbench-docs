<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="preload" as="font" href="https://docs.nosqlbench.io/fonts/vendor/jost/jost-v4-latin-regular.woff2" type="font/woff2" crossorigin>
  <link rel="preload" as="font" href="https://docs.nosqlbench.io/fonts/vendor/jost/jost-v4-latin-700.woff2"  type="font/woff2" crossorigin>


<link rel="stylesheet" href="https://docs.nosqlbench.io/main.css">



  
  
    
  

  
  
    
    
  
  
  
    
  
  
  
  
    
  
  
  


  <meta name="robots" content="index, follow">
  <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">


	


	

<title>jmx driver | NoSQLBench</title>
<meta name="description" content="">
<link rel="canonical" href="https://docs.nosqlbench.io/docs/drivers/jmx/">










<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    
      
      
        
        
        
        
        
        
        
        
          {
            "@type": "ListItem",
            "position":  1 ,
            "name": "Home",
            "item": "https://docs.nosqlbench.io/"
          },
          
          
          {
            "@type": "ListItem",
            "position":  2 ,
            "name": "Docs",
            "item": "https://docs.nosqlbench.io/docs/"
          },
        
      
        
        
        
        
        
        
        
        
          
          
          {
            "@type": "ListItem",
            "position":  3 ,
            "name": "Drivers",
            "item": "https://docs.nosqlbench.io/docs/drivers/"
          },
        
      
        
        
        
        
        
        
        
        
          
          
          {
            "@type": "ListItem",
            "position":  4 ,
            "name": "Jmx",
            "item": "https://docs.nosqlbench.io/docs/drivers/jmx/"
          },
        
      
    
  }
</script>




  <meta name="theme-color" content="#fff">
  <link rel="apple-touch-icon" sizes="180x180" href="https://docs.nosqlbench.io/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://docs.nosqlbench.io/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://docs.nosqlbench.io/favicon-16x16.png">
  
    <link rel="manifest" href="https://docs.nosqlbench.io/site.webmanifest">
  


  

</head>

  
    
  

<body class="page single">
  
    
<div class="header-bar fixed-top"></div>
<header class="navbar fixed-top navbar-expand-md navbar-light">
	<div class="container">
		<input class="menu-btn order-0" type="checkbox" id="menu-btn">
		<label class="menu-icon d-md-none" for="menu-btn"><span class="navicon"></span></label>
		<a class="navbar-brand order-1 order-md-0 me-auto" href="https://docs.nosqlbench.io/">NoSQLBench</a>
		<button id="mode" class="btn btn-link order-2 order-md-4" type="button" aria-label="Toggle mode">
			<span class="toggle-dark"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></span>
			<span class="toggle-light"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></span>
		</button>
		<ul class="navbar-nav fork-me order-3 order-md-5">
			
<!--				<li class="nav-item">-->
<!--					<a class="nav-link" href="https://twitter.com/aaranxu"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg><span class="ms-2 visually-hidden">Twitter</span></a>-->
<!--				</li>-->
			<li class="nav-item">
				<a class="nav-link" href="https://github.com/nosqlbench/nosqlbench-docs" title="NoSQLBench docs repo"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg><span class="ms-2 visually-hidden">GitHub</span></a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="https://github.com/nosqlbench/nosqlbench" title="NoSQLBench main project repo"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg><span class="ms-2 visually-hidden">GitHub</span></a>
			</li>
			
		</ul>
		<div class="collapse navbar-collapse order-4 order-md-1">
			<ul class="navbar-nav main-nav me-auto order-5 order-md-2">
				
<!--				<li class="nav-item">-->
<!--					<a class="nav-link" href="https://docs.nosqlbench.io/docs/">Docs</a>-->
<!--				</li>-->
<!--				<li class="nav-item">-->
<!--					<a class="nav-link" href="https://docs.nosqlbench.io/blog/">Blog</a>-->
<!--				</li>-->
				
			</ul>
			<div class="break order-6 d-md-none"></div>
			
				<form class="navbar-form flex-grow-1 order-7 order-md-3">
					<input id="userinput" class="form-control is-search" type="search" placeholder="Search docs..."
						aria-label="Search docs..." autocomplete="off">
					<div id="suggestions" class="shadow bg-white rounded"></div>
				</form>
			
		</div>
	</div>
</header>

  

  
<div class="wrap container" role="document">
  <div class="content">
    <div class="row justify-content-center">
      <div class="col-md-12 col-lg-10 col-xl-8">
        <article>
          <div class="page-header">
            <h1>jmx driver</h1>
          </div>
          
          <p>The JMX Driver allows you to do various JMX operations against a JMX service URL
and object name.</p>
<p>You must specify the service URL and object name in the op template. Alternately, you can specify
the protocol, host, port and path. Each cycle, the full JMX operation is derived from the
op template, and executed.</p>
<p>In the first version of this driver, only reads are supported.</p>
<h1 id="connection-options">Connection Options</h1>
<p>JMX transports can be configured in a myriad of ways. The options below allow you to add
connection options such as SSL and authentication.</p>
<ul>
<li><strong>username</strong> - The username to authenticate to the JMX server as. This can be specifed as the
actual username to use, or 'file:...' to indicate a filename to load the user name from, or as
'console:' to force the user name to be prompted for on the console. If an empty value is provided,
then the console is used by default.</li>
<li><strong>password</strong> - The password to authentiate to the JMX server with. This can be specifed as the
actual password to use, or 'file:...' to indicate a filename to load the user name from, or as
'console:' to force the user name to be prompted for on the console. If an empty value is provided,
then the console is used by default.</li>
</ul>
<h1 id="example-operations">Example Operations</h1>
<h2 id="readvar">readvar</h2>
<p>The readvar operation is used to read a named attribute of the named object and store it in the
thread local variable map.</p>
<pre data-lang="yaml" style="background-color:#2e3440;color:#d8dee9;" class="language-yaml "><code class="language-yaml" data-lang="yaml"><span style="color:#8fbcbb;">statements</span><span style="color:#eceff4;">:
</span><span>  - </span><span style="color:#8fbcbb;">read1</span><span style="color:#eceff4;">:
</span><span>     </span><span style="color:#8fbcbb;">url</span><span style="color:#eceff4;">: </span><span style="color:#a3be8c;">service:jmx:rmi:///jndi/rmi://dsehost:7199/jmxrmi
</span><span>     </span><span style="color:#8fbcbb;">object</span><span style="color:#eceff4;">: </span><span style="color:#a3be8c;">org.apache.cassandra.metrics:type=Compaction,name=PendingTasks
</span><span>     </span><span style="color:#8fbcbb;">readvar</span><span style="color:#eceff4;">: </span><span style="color:#a3be8c;">Value
</span><span>     </span><span style="color:#8fbcbb;">as_type</span><span style="color:#eceff4;">: </span><span style="color:#a3be8c;">int
</span><span>     </span><span style="color:#8fbcbb;">as_name</span><span style="color:#eceff4;">: </span><span style="color:#a3be8c;">pending_tasks     
</span><span>     </span><span style="color:#616e88;"># process or thread, process is default
</span><span>     </span><span style="color:#8fbcbb;">scope</span><span style="color:#eceff4;">: </span><span style="color:#a3be8c;">process
</span></code></pre>
<p>The <code>as_type</code> and <code>as_name</code>, and <code>scope</code> are optional, and if provided will set the name and
data type used in the thread local variable map, and whether the variable is stored in the
thread scope or the process (global) scope.</p>
<ul>
<li>
<p><em>as_type</em> can be any of long, int, double, float, byte, short, or String. If the original type
is convertable to a number, then it will be converted to a number and then to the desired type. If it
is not, it will be converted to String form first and then to the desired type. If the type name
contains dots, as in a fully-qualified class name, then direct class casting will be used if the
types are compatible.</p>
</li>
<li>
<p><em>as_name</em> will change the name used to store the value in the map.</p>
</li>
<li>
<p><em>scope</em> can be either <code>thread</code> or <code>process</code> and determines the scope of the varaible map
which is used to store the variable.</p>
</li>
</ul>
<p>A combined format is available if you don't want to put every command property on a separate line.
In this format, the first entry in the command map is taken as the command name and a set of key=value
command arguments. It is semantically equivalent to the above example, only more compact.</p>
<pre data-lang="yaml" style="background-color:#2e3440;color:#d8dee9;" class="language-yaml "><code class="language-yaml" data-lang="yaml"><span style="color:#8fbcbb;">statements</span><span style="color:#eceff4;">:
</span><span>  - </span><span style="color:#8fbcbb;">read1</span><span style="color:#eceff4;">: </span><span style="color:#a3be8c;">readvar=Value as_type=int as_name=pending_tasks    
</span><span>    </span><span style="color:#8fbcbb;">url</span><span style="color:#eceff4;">: </span><span style="color:#a3be8c;">service:jmx:rmi:///jndi/rmi://dsehost:7199/jmxrmi
</span><span>    </span><span style="color:#8fbcbb;">object</span><span style="color:#eceff4;">: </span><span style="color:#a3be8c;">org.apache.cassandra.metrics:type=Compaction,name=PendingTasks
</span></code></pre>
<h2 id="printvar">printvar</h2>
<p>If you want to simply read a value from a metric and print it out on stdout, you can do it with
the <code>printvar</code> command. This is identical to the readvar command except that it puts the resulting
variable (after any as_name and as_type options are applied) on the console.</p>
<pre data-lang="yaml" style="background-color:#2e3440;color:#d8dee9;" class="language-yaml "><code class="language-yaml" data-lang="yaml"><span style="color:#8fbcbb;">statements</span><span style="color:#eceff4;">:
</span><span>  - </span><span style="color:#8fbcbb;">read1</span><span style="color:#eceff4;">: </span><span style="color:#a3be8c;">printvar=Value as_type=int as_name=pending_tasks     
</span><span>    </span><span style="color:#8fbcbb;">url</span><span style="color:#eceff4;">: </span><span style="color:#a3be8c;">service:jmx:rmi:///jndi/rmi://dsehost:7199/jmxrmi
</span><span>    </span><span style="color:#8fbcbb;">object</span><span style="color:#eceff4;">: </span><span style="color:#a3be8c;">org.apache.cassandra.metrics:type=Compaction,name=PendingTasks
</span></code></pre>
<p>This will produce an output like this:</p>
<pre data-lang="yaml" style="background-color:#2e3440;color:#d8dee9;" class="language-yaml "><code class="language-yaml" data-lang="yaml"><span style="color:#616e88;"># read JMX attribute &#39; Value&#39; as class java.lang.Integer as_type=int as_name=pending_tasks
</span><span style="color:#a3be8c;">pending_tasks=0
</span></code></pre>
<h2 id="explain">explain</h2>
<p>If you want to see the details about a managed object, you can use the explain command:</p>
<pre data-lang="yaml" style="background-color:#2e3440;color:#d8dee9;" class="language-yaml "><code class="language-yaml" data-lang="yaml"><span style="color:#8fbcbb;">statements</span><span style="color:#eceff4;">:
</span><span>  - </span><span style="color:#8fbcbb;">explain1</span><span style="color:#eceff4;">:
</span><span>     </span><span style="color:#8fbcbb;">url</span><span style="color:#eceff4;">: </span><span style="color:#a3be8c;">service:jmx:rmi:///jndi/rmi://dsehost:7199/jmxrmi
</span><span>     </span><span style="color:#8fbcbb;">object</span><span style="color:#eceff4;">: </span><span style="color:#a3be8c;">org.apache.cassandra.metrics:type=Compaction,name=PendingTasks
</span><span>     </span><span style="color:#8fbcbb;">explain</span><span style="color:#eceff4;">: </span><span style="color:#a3be8c;">object
</span></code></pre>
<p>This will use the MBeanInfo to interrogate the named management bean and provide a summary
of it's available attriburtes, operations, notifications, and constructors to stdout.
This is not meant for bulk testing, but more for explaining and documenting JMX beans.</p>
<p>The above example will produce an output like this:</p>
<pre data-lang="text" style="background-color:#2e3440;color:#d8dee9;" class="language-text "><code class="language-text" data-lang="text"><span>### MBeanInfo for &#39;org.apache.cassandra.metrics:type=Compaction,name=PendingTasks&#39;
</span><span># classname: org.apache.cassandra.metrics.CassandraMetricsRegistry$JmxGauge
</span><span># Information on the management interface of the MBean
</span><span>## attributes:
</span><span># Attribute exposed for management
</span><span>- &#39;Value&#39; type=java.lang.Objectreadable=true writable=false is_is=false
</span><span>## operations:
</span><span># Operation exposed for management
</span><span>- objectName() -&gt; javax.management.ObjectName impact=UNKNOWN
</span></code></pre>

        </article>
      </div>
    </div>
  </div>
</div>


  
    
<footer class="footer text-muted">
	<div class="container">
		<div class="row">
			<div class="col-lg-8 order-last order-lg-first">
				<ul class="list-inline">
					
						<li class="list-inline-item"> </li>
					
				</ul>
			</div>
			<div class="col-lg-8 order-first order-lg-last text-lg-end">
				<ul class="list-inline">
					
				</ul>
			</div>
		</div>
	</div>
</footer>

  

  
<script src="https://docs.nosqlbench.io/js/main.js" defer></script>

  <script src="https://docs.nosqlbench.io/plugins/elasticlunr.min.js" defer></script>
  <script src="https://docs.nosqlbench.io/search_index.en.js" defer></script>
  <script src="https://docs.nosqlbench.io/js/search.js" defer></script>

  
</body>
</html>
