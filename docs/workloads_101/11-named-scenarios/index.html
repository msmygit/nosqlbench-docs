<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="preload" as="font" href="https://docs.nosqlbench.io/fonts/vendor/jost/jost-v4-latin-regular.woff2" type="font/woff2" crossorigin>
  <link rel="preload" as="font" href="https://docs.nosqlbench.io/fonts/vendor/jost/jost-v4-latin-700.woff2"  type="font/woff2" crossorigin>


<link rel="stylesheet" href="https://docs.nosqlbench.io/main.css">



  
  
    
  

  
  
    
    
  
  
  
    
  
  
  
  
    
  
  
  


  <meta name="robots" content="index, follow">
  <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">


	


	

<title>11 Named Scenarios | NoSQLBench</title>
<meta name="description" content="">
<link rel="canonical" href="https://docs.nosqlbench.io/docs/workloads_101/11-named-scenarios/">










<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    
      
      
        
        
        
        
        
        
        
        
          {
            "@type": "ListItem",
            "position":  1 ,
            "name": "Home",
            "item": "https://docs.nosqlbench.io/"
          },
          
          
          {
            "@type": "ListItem",
            "position":  2 ,
            "name": "Docs",
            "item": "https://docs.nosqlbench.io/docs/"
          },
        
      
        
        
        
        
        
        
        
        
          
          
          {
            "@type": "ListItem",
            "position":  3 ,
            "name": "Workloads_101",
            "item": "https://docs.nosqlbench.io/docs/workloads_101/"
          },
        
      
        
        
        
        
        
        
        
        
        
        
        
        
        
        
          
          
          {
            "@type": "ListItem",
            "position":  4 ,
            "name": "11 Named Scenarios",
            "item": "https://docs.nosqlbench.io/docs/workloads_101/11-named-scenarios/"
          },
        
      
    
  }
</script>




  <meta name="theme-color" content="#fff">
  <link rel="apple-touch-icon" sizes="180x180" href="https://docs.nosqlbench.io/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://docs.nosqlbench.io/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://docs.nosqlbench.io/favicon-16x16.png">
  
    <link rel="manifest" href="https://docs.nosqlbench.io/site.webmanifest">
  


  

</head>

  

<body class="docs single">
  
  
  
  
<div class="header-bar fixed-top"></div>
<header class="navbar fixed-top navbar-expand-md navbar-light">
	<div class="container">
		<input class="menu-btn order-0" type="checkbox" id="menu-btn">
		<label class="menu-icon d-md-none" for="menu-btn"><span class="navicon"></span></label>
		<a class="navbar-brand order-1 order-md-0 me-auto" href="https://docs.nosqlbench.io/">NoSQLBench</a>
		<button id="mode" class="btn btn-link order-2 order-md-4" type="button" aria-label="Toggle mode">
			<span class="toggle-dark"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></span>
			<span class="toggle-light"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></span>
		</button>
		<ul class="navbar-nav fork-me order-3 order-md-5">
			
<!--				<li class="nav-item">-->
<!--					<a class="nav-link" href="https://twitter.com/aaranxu"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg><span class="ms-2 visually-hidden">Twitter</span></a>-->
<!--				</li>-->
			<li class="nav-item">
				<a class="nav-link" href="https://github.com/nosqlbench/nosqlbench-docs" title="NoSQLBench docs repo"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg><span class="ms-2 visually-hidden">GitHub</span></a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="https://github.com/nosqlbench/nosqlbench" title="NoSQLBench main project repo"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg><span class="ms-2 visually-hidden">GitHub</span></a>
			</li>
			
		</ul>
		<div class="collapse navbar-collapse order-4 order-md-1">
			<ul class="navbar-nav main-nav me-auto order-5 order-md-2">
				
<!--				<li class="nav-item">-->
<!--					<a class="nav-link" href="https://docs.nosqlbench.io/docs/">Docs</a>-->
<!--				</li>-->
<!--				<li class="nav-item">-->
<!--					<a class="nav-link" href="https://docs.nosqlbench.io/blog/">Blog</a>-->
<!--				</li>-->
				
			</ul>
			<div class="break order-6 d-md-none"></div>
			
				<form class="navbar-form flex-grow-1 order-7 order-md-3">
					<input id="userinput" class="form-control is-search" type="search" placeholder="Search docs..."
						aria-label="Search docs..." autocomplete="off">
					<div id="suggestions" class="shadow bg-white rounded"></div>
				</form>
			
		</div>
	</div>
</header>



  
<div class="wrap container" role="document">
  <div class="content">
    <div class="row flex-xl-nowrap">
	  
<div class="col-lg-5 col-xl-4 docs-sidebar">
	<nav class="docs-links" aria-label="Main navigation">
			
			
			
			
					
					
					
							<h3>Introduction</h3>
							<ul class="list-unstyled">
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/nosqlbench/introduction/">NoSQLBench</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/nosqlbench/core-concepts/">Core Concepts</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/nosqlbench/showcase/">Showcase</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/nosqlbench/community/">Community</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/nosqlbench/principles/">Design Principles</a></li>
							
					</ul>
					
					
					
					
							<h3>Getting Started</h3>
							<ul class="list-unstyled">
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/getting_started/00-get-nosqlbench/">00 Install</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/getting_started/01-example-commands/">01 Commands</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/getting_started/02-example-results/">02 Results</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/getting_started/03-reading-metrics/">03 Metrics</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/getting_started/04-next-steps/">Next Steps</a></li>
							
					</ul>
					
					
					
					
							<h3>Workloads 101</h3>
							<ul class="list-unstyled">
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/workloads_101/00-designing-workloads/">00 Designing Workloads</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/workloads_101/01-op-templates/">01 Op Templates</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/workloads_101/02-yaml-org/">02 YAML Organization</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/workloads_101/03-data-bindings/">03 Data Bindings</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/workloads_101/04-op-params/">04 Op Params</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/workloads_101/05-op-tags/">05 Op Tags</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/workloads_101/06-op-blocks/">06 Op Blocks</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/workloads_101/07-more-op-templates/">07 More Op Templates</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/workloads_101/08-multi-docs/">08 Multi-Docs</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/workloads_101/09-template-params/">09 Template Params</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/workloads_101/10-stmt-naming/">10 Op Naming</a></li>
							                           
									<li><a class="docs-link active" href="https://docs.nosqlbench.io/docs/workloads_101/11-named-scenarios/">11 Named Scenarios</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/workloads_101/99-yaml-diagnostics/">YAML Diagnostics</a></li>
							
					</ul>
					
					
					
					
							<h3>Reference</h3>
							<ul class="list-unstyled">
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/reference/command-line/">CLI Options</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/reference/cli-scripting/">CLI Scripting</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/reference/parameter-types/">Parameter Types</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/reference/core-activity-parameters/">Core Activity Parameters</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/reference/core-op-params/">Core Op Parameters</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/reference/timing-terms/">Timing Terms Explained</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/reference/standard-metrics/">Standard Metrics</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/reference/advanced-metrics/">Advanced Metrics Options</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/reference/grafana-metrics/">Built-In Grafana Dashboard</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/reference/workloads-intro/">Built-In Workloads</a></li>
							
					</ul>
					
					
					
					
							<h3>Scenario Scripting</h3>
							<ul class="list-unstyled">
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/scripting/scripting-intro/">Scripting Intro</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/scripting/scripting-parameters/">Scripting Parameters</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/scripting/scripting-environment/">Scripting Environment</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/scripting/scripting-extensions/">Scripting Extensions</a></li>
							
					</ul>
					
					
					
					
							<h3>Advanced Topics</h3>
							<ul class="list-unstyled">
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/advanced_topics/random-data/">Randomness, Determinism, Variation</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/advanced_topics/vantage-points/">Vantage Points</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/advanced_topics/multiple-clients/">Multiple Clients</a></li>
							
					</ul>
					
					
					
					
							<h3>Drivers</h3>
							<ul class="list-unstyled">
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/driver-types-intro/">Driver Types</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/cockroachdb/">cockroachdb driver</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/cql/">cql driver</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/cqld3/">cqld3 driver</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/cqlverify/">cqlverify driver</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/diag/">diag driver</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/dsegraph/">dsegraph driver</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/http/">http driver</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/jms/">jms driver</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/jmx/">jmx driver</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/kafkaproducer/">kafkaproducer driver</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/mongodb/">mongodb driver</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/pulsar/">pulsar driver</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/ssl/">cql driver ssl</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/stdout/">stdout driver</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/tcpclient/">tcpclient driver</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/tcpserver/">tcpserver driver</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/drivers/webdriver/">webdriver driver</a></li>
							
					</ul>
					
					
					
					
							<h3>Binding Functions</h3>
							<ul class="list-unstyled">
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/bindings/binding-concepts/">Binding Concepts</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/bindings/binding-functions/">Binding Functions Explained</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/bindings/funcref-datetime/">datetime functions</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/bindings/funcref-general/">general functions</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/bindings/funcref-premade/">pre-made functions</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/bindings/funcref-conversion/">conversion functions</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/bindings/funcref-distributions/">distribution functions</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/bindings/funcref-state/">state functions</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/bindings/funcref-collections/">collection functions</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/bindings/funcref-diagnostics/">diagnostic functions</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/bindings/funcref-experimental/">Experimental functions</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/bindings/funcref-functional/">flow functions</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/bindings/funcref-nulls/">null functions</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/bindings/funcref-objects/">Object functions</a></li>
							                           
									<li><a class="docs-link" href="https://docs.nosqlbench.io/docs/bindings/funcref-statistics/">Statistics functions</a></li>
							
					</ul>
					
					
			
	</nav>
</div>

	  
  
  <nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation">
  	<div class="page-links">
  			<h3>On this page</h3>
  			<nav id="TableOfContents">
  					<ul>
  							
  							<li><a href="https://docs.nosqlbench.io/docs/workloads_101/11-named-scenarios/#scenario-selection">Scenario selection</a></li>
  							
  							
  							<li><a href="https://docs.nosqlbench.io/docs/workloads_101/11-named-scenarios/#workload-selection">Workload selection</a></li>
  							
  							
  							<li><a href="https://docs.nosqlbench.io/docs/workloads_101/11-named-scenarios/#named-scenario-discovery">Named Scenario Discovery</a></li>
  							
  							
  							<li><a href="https://docs.nosqlbench.io/docs/workloads_101/11-named-scenarios/#parameter-overrides">Parameter Overrides</a></li>
  							
  							
  							<li><a href="https://docs.nosqlbench.io/docs/workloads_101/11-named-scenarios/#parameter-override-examples">Parameter Override Examples</a></li>
  							
  									<ul>
  											
  											<li><a href="https://docs.nosqlbench.io/docs/workloads_101/11-named-scenarios/#basic-override-example">Basic Override example</a></li>
  											
  											<li><a href="https://docs.nosqlbench.io/docs/workloads_101/11-named-scenarios/#silent-locking-example">Silent Locking example</a></li>
  											
  											<li><a href="https://docs.nosqlbench.io/docs/workloads_101/11-named-scenarios/#verbose-locking-example">Verbose Locking example</a></li>
  											
  									</ul>
  							
  							
  							<li><a href="https://docs.nosqlbench.io/docs/workloads_101/11-named-scenarios/#forcing-undefined-parameters">Forcing Undefined Parameters</a></li>
  							
  							
  							<li><a href="https://docs.nosqlbench.io/docs/workloads_101/11-named-scenarios/#automatic-parameters">Automatic Parameters</a></li>
  							
  							
  					</ul>
  			</nav>
  	</div>
  </nav>
  

      <main class="docs-content col-lg-11 col-xl-9">
        <h1>11 Named Scenarios</h1>
        
        <p>There is one final element of a yaml that you need to know about: <em>named scenarios</em>.</p>
<p><strong>Named Scenarios allow anybody to run your testing workflows with a single command.</strong></p>
<p>You can provide named scenarios for a workload like this:</p>
<pre data-lang="yaml" style="background-color:#2e3440;color:#d8dee9;" class="language-yaml "><code class="language-yaml" data-lang="yaml"><span style="color:#616e88;"># contents of myworkloads.yaml
</span><span style="color:#8fbcbb;">scenarios</span><span style="color:#eceff4;">:
</span><span>  </span><span style="color:#8fbcbb;">default</span><span style="color:#eceff4;">:
</span><span>    - </span><span style="color:#a3be8c;">run driver=diag cycles=10 alias=first-ten
</span><span>    - </span><span style="color:#a3be8c;">run driver=diag cycles=10..20 alias=second-ten
</span><span>  </span><span style="color:#8fbcbb;">longrun</span><span style="color:#eceff4;">:
</span><span>    - </span><span style="color:#a3be8c;">run driver=diag cycles=10M
</span></code></pre>
<p>This provides a way to specify more detailed workflows that users may want to run without them
having to build up a command line for themselves.</p>
<p>A couple of other forms are supported in the YAML, for terseness:</p>
<pre data-lang="yaml" style="background-color:#2e3440;color:#d8dee9;" class="language-yaml "><code class="language-yaml" data-lang="yaml"><span style="color:#8fbcbb;">scenarios</span><span style="color:#eceff4;">:
</span><span>  </span><span style="color:#8fbcbb;">oneliner</span><span style="color:#eceff4;">: </span><span style="color:#a3be8c;">run driver=diag cycles=10
</span><span>  </span><span style="color:#8fbcbb;">mapform</span><span style="color:#eceff4;">:
</span><span>    </span><span style="color:#8fbcbb;">part1</span><span style="color:#eceff4;">: </span><span style="color:#a3be8c;">run driver=diag cycles=10 alias=part2
</span><span>    </span><span style="color:#8fbcbb;">part2</span><span style="color:#eceff4;">: </span><span style="color:#a3be8c;">run driver=diag cycles=20 alias=part2
</span></code></pre>
<p>These forms simply provide finesse for common editing habits, but they are automatically read
internally as a list of named steps. In the map form, the names are used to name activities. The
order is retained.</p>
<h2 id="scenario-selection">Scenario selection</h2>
<p>When a named scenario is run, it is <em>always</em> named, so that it can be looked up in the list of named
scenarios under your <code>scenarios:</code> property. The only exception to this is when an explicit scenario
name is not found on the command line, in which case it is automatically assumed to be <code>default</code>.</p>
<p>Some examples may be more illustrative:</p>
<pre style="background-color:#2e3440;color:#d8dee9;"><code><span># runs the scenario named &#39;default&#39; if it exists, or throws an error if it does not.
</span><span>nb myworkloads
</span><span># or
</span><span>nb myworkloads default
</span><span>
</span><span># runs the named scenario &#39;longrun&#39; if it exists, or throws an error if it does not.
</span><span>nb myworkloads longrun
</span><span>
</span><span># runs the named scenario &#39;longrun&#39; if it exists, or throws an error if it does not.
</span><span># this is simply the canonical form which is more verbose, but more explicit.
</span><span>nb scenario myworkloads longrun
</span><span>
</span><span># run multiple named scenarios from one workload, and then some from another
</span><span>nb scenario myworkloads longrun default longrun scenario another.yaml name1 name2
</span><span># In this form ^ you may have to add the explicit form to avoid conflicts between
</span><span># workload names and scenario names. That&#39;s why the explicit form is provided, afterall.
</span></code></pre>
<h2 id="workload-selection">Workload selection</h2>
<p>The examples above contain no reference to a workload (formerly called _
yaml_). They don't need to, as they refer to themselves implicitly. You may add a <code>workload=</code>
parameter to the command templates if you like, but this is never needed for basic use, and it is
error prone to keep the filename matched to the command template. Just leave it out by default.</p>
<p><em>However</em>, if you are doing advanced scripting across multiple systems, you can actually provide
a <code>workload=</code> parameter particularly to use another workload description in your test.</p>
<p><strong>NOTE:</strong>
This is a powerful feature for workload automation and organization. However, it can get unweildy
quickly. Caution is advised for deep-linking too many scenarios in a workspace, as there is no
mechanism for keeping them in sync when small changes are made.</p>
<h2 id="named-scenario-discovery">Named Scenario Discovery</h2>
<p>For named scenarios, there is a way for users to find all the named scenarios that are currently
bundled or in view of their current directory. A couple simple rules must be followed by scenario
publishers in order to keep things simple:</p>
<ol>
<li>Workload files in the current directory <code>*.yaml</code> are considered.</li>
<li>Workload files under in the relative path <code>activities/</code> with name <code>*.yaml</code> are considered.</li>
<li>The same rules are used when looking in the bundled nosqlbench, so built-ins come along for the
ride.</li>
<li>Any workload file that contains a <code>scenarios:</code> tag is included, but all others are ignored.</li>
</ol>
<p>This doesn't mean that you can't use named scenarios for workloads in other locations. It simply
means that when users use the <code>--list-scenarios</code> option, these are the only ones they will see
listed.</p>
<h2 id="parameter-overrides">Parameter Overrides</h2>
<p>You can override parameters that are provided by named scenarios. Any parameter that you specify on
the command line after your workload and optional scenario name will be used to override or augment
the commands that are provided for the named scenario.</p>
<p>This is powerful, but it also means that you can sometimes munge user-provided activity parameters
on the command line with the named scenario commands in ways that may not make sense. To solve this,
the parameters in the named scenario commands may be locked. You can lock them silently, or you can
provide a verbose locking that will cause an error if the user even tries to adjust them.</p>
<p>Silent locking is provided with a form like <code>param==value</code>. Any silent locked parameters will reject
overrides from the command line, but will not interrupt the user.</p>
<p>Verbose locking is provided with a form like <code>param===value</code>. Any time a user provides a parameter
on the command line for the named parameter, an error is thrown and they are informed that this is
not possible. This level is provided for cases in which you would not want the user to be unaware of
an unset parameter which is germain and specific to the named scenario.</p>
<p>All other parameters provided by the user will take the place of the same-named parameters provided
in <em>each</em> command templates, in the order they appear in the template. Any other parameters provided
by the user will be added to <em>each</em>
of the command templates in the order they appear on the command line.</p>
<p>This is a little counter-intuitive at first, but once you see some examples it should make sense.</p>
<h2 id="parameter-override-examples">Parameter Override Examples</h2>
<p>Consider a simple workload with three named scenarios:</p>
<pre data-lang="yaml" style="background-color:#2e3440;color:#d8dee9;" class="language-yaml "><code class="language-yaml" data-lang="yaml"><span style="color:#616e88;"># basics.yaml
</span><span style="color:#8fbcbb;">scenarios</span><span style="color:#eceff4;">:
</span><span>  </span><span style="color:#8fbcbb;">s1</span><span style="color:#eceff4;">: </span><span style="color:#a3be8c;">run driver=stdout cycles=10
</span><span>  </span><span style="color:#8fbcbb;">s2</span><span style="color:#eceff4;">: </span><span style="color:#a3be8c;">run driver=stdout cycles==10
</span><span>  </span><span style="color:#8fbcbb;">s3</span><span style="color:#eceff4;">: </span><span style="color:#a3be8c;">run driver=stdout cycles===10
</span><span>
</span><span style="color:#8fbcbb;">bindings</span><span style="color:#eceff4;">:
</span><span>  </span><span style="color:#8fbcbb;">c</span><span style="color:#eceff4;">: </span><span style="color:#a3be8c;">Identity()
</span><span>
</span><span style="color:#8fbcbb;">statements</span><span style="color:#eceff4;">:
</span><span>  - </span><span style="color:#8fbcbb;">A</span><span style="color:#eceff4;">: </span><span style="color:#a3be8c;">&quot;cycle={c}</span><span style="color:#ebcb8b;">\n</span><span style="color:#a3be8c;">&quot;
</span></code></pre>
<p>Running this with no options prompts the user to select one of the named scenarios:</p>
<pre style="background-color:#2e3440;color:#d8dee9;"><code><span>$ nb basics
</span><span>ERROR: Unable to find named scenario &#39;default&#39; in workload &#39;basics&#39;, but you can pick from s1,s2,s3
</span><span>$
</span></code></pre>
<h3 id="basic-override-example">Basic Override example</h3>
<p>If you run the first scenario <code>s1</code> with your own value for <code>cycles=7</code>, it does as you ask:</p>
<pre style="background-color:#2e3440;color:#d8dee9;"><code><span>$ nb basics s1 cycles=7
</span><span>Logging to logs/scenario_20200324_205121_554.log
</span><span>cycle=0
</span><span>cycle=1
</span><span>cycle=2
</span><span>cycle=3
</span><span>cycle=4
</span><span>cycle=5
</span><span>cycle=6
</span><span>$
</span></code></pre>
<h3 id="silent-locking-example">Silent Locking example</h3>
<p>If you run the second scenario <code>s2</code> with your own value for <code>cycles=7</code>, then it does what the locked
parameter
<code>cycles==10</code> requires, without telling you that it is ignoring the specified value on your command
line.</p>
<pre style="background-color:#2e3440;color:#d8dee9;"><code><span>$ nb basics s2 cycles=7
</span><span>Logging to logs/scenario_20200324_205339_486.log
</span><span>cycle=0
</span><span>cycle=1
</span><span>cycle=2
</span><span>cycle=3
</span><span>cycle=4
</span><span>cycle=5
</span><span>cycle=6
</span><span>cycle=7
</span><span>cycle=8
</span><span>cycle=9
</span><span>$
</span></code></pre>
<p>Sometimes, this is appropriate, such as when specifying settings like <code>threads==</code> for schema phases.</p>
<h3 id="verbose-locking-example">Verbose Locking example</h3>
<p>If you run the third scenario <code>s3</code> with your own value for <code>cycles=7</code>, then you will get an error
telling you that this is not possible. Sometimes you want to make sure tha the user knows a
parameter should not be changed, and that if they want to change it, they'll have to make their own
custom version of the scenario in question.</p>
<pre style="background-color:#2e3440;color:#d8dee9;"><code><span>$ nb basics s3 cycles=7
</span><span>ERROR: Unable to reassign value for locked param &#39;cycles===7&#39;
</span><span>$
</span></code></pre>
<p>Ultimately, it is up to the scenario designer when to lock parameters for users. The built-in
workloads offer some examples on how to set these parameters so that the right value are locked in
place without bother the user, but some values are made very clear in how they should be set. Please
look at these examples for inspiration when you need.</p>
<h2 id="forcing-undefined-parameters">Forcing Undefined Parameters</h2>
<p>If you want to ensure that any parameter in a named scenario template remains unset in the generated
scenario script, you can assign it a value of <code>UNDEF</code>. The locking behaviors described above apply to
this one as well. Thus, for schema commands which rely on the default sequence length (which is
based on the number of active statements), you can set <code>cycles==UNDEF</code> to ensure that when a user
passes a cycles parameter the schema phase doesn't break with too many cycles.</p>
<h2 id="automatic-parameters">Automatic Parameters</h2>
<p>Some parameters are already known due to the fact that you are using named scenarios.</p>
<p><em>workload</em></p>
<p>The <code>workload</code> parameter is, by default, set to the logical path (fully qualified workload name) of
the yaml file containing the named scenario. However, if the command template contains this
parameter, it may be overridden by users as any other parameter depending on the assignment
operators as explained above.</p>
<p><em>alias</em></p>
<p>The <code>alias</code> parameter is, by default, set to the expanded name of WORKLOAD_SCENARIO_STEP, which
means that each activity within the scenario has a distinct and symbolic name. This is important for
distinguishing metrics from one another across workloads, named scenarios, and steps within a named
scenario. The above words are interpolated into the alias as follows:</p>
<ul>
<li>
<p>WORKLOAD - The simple name part of the fully qualified workload name. For example, with a
workload (yaml path) of foo/bar/baz.yaml, the WORKLOAD name used here would be <code>baz</code>.</p>
</li>
<li>
<p>SCENARIO - The name of the scenario as provided on the command line.</p>
</li>
<li>
<p>STEP - The name of the step in the named scenario. If you used the list or string forms to provide
a command template, then the steps are automatically named as a zero-padded number representing
the step in the named scenario, starting from <code>000</code>, per named scenario. (The numbers are not
globally assigned)</p>
</li>
</ul>
<p>Because it is important to have uniquely named activities for the sake of sane metrics and logging,
any alias provided when using named scenarios which does not include the three tokens above will
cause a warning to be issued to the user explaining why this is a bad idea.</p>
<p><strong>NOTE:</strong>
UNDEF is handled before alias expansion above, so it is possible to force the default activity
naming behavior above with <code>alias===UNDEF</code>. This is generally recommended, and will inform users if
they try to set the alias in an unsafe way.</p>

        
        
<div class="docs-navigation d-flex justify-content-between">
  
  
  
  
  
  <a href="https:&#x2F;&#x2F;docs.nosqlbench.io&#x2F;docs&#x2F;workloads_101&#x2F;10-stmt-naming&#x2F;">
    <div class="card my-1">
      <div class="card-body py-2">
        &larr; 10 Op Naming
      </div>
    </div>
  </a>
  

  
  
  
  
  
    <a class="ms-auto" href="https:&#x2F;&#x2F;docs.nosqlbench.io&#x2F;docs&#x2F;workloads_101&#x2F;99-yaml-diagnostics&#x2F;">
      <div class="card my-1">
        <div class="card-body py-2">
          YAML Diagnostics &rarr;
        </div>
      </div>
    </a>
  
</div>

      </main>
    </div>
  </div>
</div>


  
    
<footer class="footer text-muted">
	<div class="container">
		<div class="row">
			<div class="col-lg-8 order-last order-lg-first">
				<ul class="list-inline">
					
						<li class="list-inline-item"> </li>
					
				</ul>
			</div>
			<div class="col-lg-8 order-first order-lg-last text-lg-end">
				<ul class="list-inline">
					
				</ul>
			</div>
		</div>
	</div>
</footer>

  

  
<script src="https://docs.nosqlbench.io/js/main.js" defer></script>

  <script src="https://docs.nosqlbench.io/plugins/elasticlunr.min.js" defer></script>
  <script src="https://docs.nosqlbench.io/search_index.en.js" defer></script>
  <script src="https://docs.nosqlbench.io/js/search.js" defer></script>

  
</body>
</html>
